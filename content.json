{"meta":{"title":"livisun's blog","subtitle":null,"description":null,"author":"livisun","url":"http://livisun.gitgub.io"},"pages":[],"posts":[{"title":"axios的post请求问题","slug":"axios的post请求问题","date":"2019-09-05T06:47:30.000Z","updated":"2019-09-05T06:51:11.631Z","comments":true,"path":"2019/09/05/axios的post请求问题/","link":"","permalink":"http://livisun.gitgub.io/2019/09/05/axios的post请求问题/","excerpt":"","text":"最近在学习和实践Vue，搭建了vue+koa的前后端分离架构。vue请求采用的axios。但是遇到一个天坑，axios的post请求，后端接收不到参数。request.body中得到的是 ‘{‘param’:param}:’这种把参数全部变成key ，但是value没有值。百度发现这是axios 中一段关键代码引起的，具体是什么代码没去考证，我就纳闷了，这么久了都没有解决，还是说我过去的传参方式已经被淘汰了？ 先不管，我们先来解决问题。网上有6中解决方案，我参考了一下，在axios的requet请求拦截器中，添加通过qs转换一下 12345678910111213141516//http request 请求拦截器axios.interceptors.request.use( config =&gt; &#123; config.data = qs.stringify(config.data); config.headers = &#123; &apos;Content-Type&apos;:&apos;application/x-www-form-urlencoded&apos; &#125; if(store.state.token)&#123; axios.defaults.headers.common[&apos;Authorization&apos;] = store.state.token &#125; return config; &#125;, error =&gt; &#123; return Promise.reject(err); &#125; ); ok 问题解决 后端 直接通过 koa-bodyparser 自动解析 1234567const app = new Koa();const bodyparser = require(&apos;koa-bodyparser&apos;)app.use(bodyparser()) router.post(&apos;/addBanner&apos;,async(ctx,next)=&gt;&#123; ctx.body=ctx.request.body &#125;)","categories":[{"name":"编程","slug":"编程","permalink":"http://livisun.gitgub.io/categories/编程/"}],"tags":[{"name":"axios","slug":"axios","permalink":"http://livisun.gitgub.io/tags/axios/"}],"keywords":[{"name":"编程","slug":"编程","permalink":"http://livisun.gitgub.io/categories/编程/"}]}]}